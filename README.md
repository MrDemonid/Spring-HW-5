# Задание.

```text
Текст сложного задания на тему Spring Data JPA:

Ваша команда разрабатывает приложение для управления проектами. 
Вам нужно реализовать функциональность связывания пользователей с проектами.

Создайте сущность "пользователь" (User), которая будет содержать следующие поля:
- Идентификатор (id) типа Long, генерируемый автоматически при создании записи
- Имя пользователя (username) типа String
- Пароль (password) типа String
- Электронная почта (email) типа String
- Роль (role) типа String

Создайте сущность "проект" (Project), которая будет содержать следующие поля:
- Идентификатор (id) типа Long, генерируемый автоматически при создании записи
- Название проекта (name) типа String
- Описание проекта (description) типа String
- Дата создания (createdDate) типа LocalDate

Создайте абстрактный класс "сущность с связью" (EntityWithRelation), который будет содержать следующие поля:
- Идентификатор (id) типа Long, генерируемый автоматически при создании записи
- Идентификатор связанной сущности (relatedEntityId) типа Long

Создайте сущность "пользователи проекта" (UsersProject), которая наследуется от класса "сущность с связью" 
и будет содержать следующие поля:
- Идентификатор проекта (projectId) типа Long
- Идентификатор пользователя (userId) типа Long

Создайте интерфейс репозитория (UserRepository), который будет расширять JpaRepository<User, Long>.

Создайте интерфейс репозитория (ProjectRepository), который будет расширять JpaRepository<Project, Long>.

Создайте интерфейс репозитория (UsersProjectRepository), который будет расширять JpaRepository<UsersProject, Long>.

Создайте сервисный класс (UserProjectService), который будет содержать следующие методы:
- public List getUsersByProjectId(Long projectId) - метод, возвращающий список пользователей, 
    связанных с определенным проектом
- public List getProjectsByUserId(Long userId) - метод, возвращающий список проектов, 
    связанных с определенным пользователем
- public void addUserToProject(Long userId, Long projectId) - метод, добавляющий пользователя к проекту
- public void removeUserFromProject(Long userId, Long projectId) - метод, удаляющий пользователя из проекта

Создайте контроллер (UserProjectController), который будет содержать следующие методы:
- public ResponseEntity<List> getUsersByProjectId(Long projectId) - метод, обрабатывающий GET-запрос 
    для получения списка пользователей, связанных с определенным проектом
- public ResponseEntity<List> getProjectsByUserId(Long userId) - метод, обрабатывающий GET-запрос 
    для получения списка проектов, связанных с определенным пользователем
- public ResponseEntity addUserToProject(Long userId, Long projectId) - метод, обрабатывающий POST-запрос 
    для добавления пользователя к проекту
- public ResponseEntity removeUserFromProject(Long userId, Long projectId) - метод, обрабатывающий POST-запрос 
    для удаления пользователя из проекта
```

Весьма странное решение для таблицы UsersProject назначить связующим
идентификаторам userId и projectId тип Long. Это автоматом лишает
нас возможности использовать умение Jpa работать со связями таблиц
(поскольку для этого они должны быть типа User и Project соответственно).

Поэтому придется реализовывать всё это вручную.

## Само задание.

Всё реализовано согласно заданию, а UserProjectController выполняет
заданные функции и реализован как RestController.

## Отсебятина.

Дополнительно реализовал два контроллера, попытавшись сделать более-менее приемлимый
веб-интерфейс:

- ProjectController для управления проектами.
- UserController для управления пользователями.

Хотя они по сути дублируют функционал, но делают это на разных
интерфейсах и с разным подходом.

Шаблоны нагенерировал с помощью ChatGPT и привел в порядок ручками. За что ИИ 
отдельное спасибо :)

Было бы времени побольше, работу с БД довел бы до ума, то есть наладил бы 
нормальный проброс ошибок. Но времени как всегда в обрез. 

NEW: Сделал обработку ошибок при работе с БД. 